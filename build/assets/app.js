const l={navigation:"primary-navigation",toggle:"primary-menu-toggle",overlay:"primary-navigation-overlay"},f='a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])';function p(){const r=document.getElementById(l.navigation),n=document.getElementById(l.toggle),o=document.getElementById(l.overlay);if(!r||!n)return;const t=window.matchMedia("(min-width: 768px)");let a=!1;const i=e=>{const s=e?"true":"false";if(n.setAttribute("aria-expanded",s),r.setAttribute("aria-hidden",e?"false":"true"),r.setAttribute("data-open",s),o&&(o.setAttribute("data-open",s),o.setAttribute("aria-hidden",e?"false":"true")),e&&!t.matches){document.body.classList.add("mobile-menu-open");const u=r.querySelector(f);u instanceof HTMLElement&&u.focus()}else document.body.classList.remove("mobile-menu-open")},d=()=>{a=!0,i(!1),n.focus()},c=()=>{if(t.matches){i(!0);return}if(a){const e=n.getAttribute("aria-expanded")==="true";i(e);return}i(!1)};n.addEventListener("click",e=>{e.preventDefault(),a=!0;const s=n.getAttribute("aria-expanded")==="true";i(!s)}),o&&o.addEventListener("click",e=>{e.preventDefault(),d()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&n.getAttribute("aria-expanded")==="true"&&!t.matches&&d()}),c(),typeof t.addEventListener=="function"?t.addEventListener("change",c):typeof t.addListener=="function"&&t.addListener(c)}function m(){const r=document.querySelectorAll("[data-footer-accordion-item]");if(!r.length)return;const n=window.matchMedia("(min-width: 768px)");r.forEach(o=>{const t=o.querySelector("[data-footer-accordion-trigger]"),a=o.querySelector("[data-footer-accordion-content]"),i=o.querySelector("[data-footer-accordion-icon]");if(!(t instanceof HTMLElement)||!(a instanceof HTMLElement))return;const d=()=>{a.classList.remove("max-h-96","opacity-100","pointer-events-auto"),a.classList.add("max-h-0","opacity-0","pointer-events-none"),a.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false"),i instanceof HTMLElement&&i.classList.remove("rotate-45")},c=()=>{a.classList.remove("max-h-0","opacity-0","pointer-events-none"),a.classList.add("max-h-96","opacity-100","pointer-events-auto"),a.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true"),i instanceof HTMLElement&&i.classList.add("rotate-45")},e=()=>{if(n.matches){a.classList.remove("max-h-0","max-h-96","opacity-0","opacity-100","pointer-events-none","pointer-events-auto"),a.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true"),i instanceof HTMLElement&&i.classList.remove("rotate-45");return}d()};t.addEventListener("click",s=>{s.preventDefault(),t.getAttribute("aria-expanded")==="true"?d():c()}),e(),typeof n.addEventListener=="function"?n.addEventListener("change",e):typeof n.addListener=="function"&&n.addListener(e)})}document.addEventListener("DOMContentLoaded",()=>{p(),m()});

window.addEventListener("load",function(){const u=document.getElementById("primary-navigation"),f=document.getElementById("primary-menu-toggle");u&&f&&f.addEventListener("click",function(n){n.preventDefault(),u.classList.toggle("hidden")});const g=document.querySelectorAll("[data-footer-accordion-item]");if(g.length){const n=window.matchMedia("(min-width: 768px)");g.forEach(function(i){const e=i.querySelector("[data-footer-accordion-trigger]"),t=i.querySelector("[data-footer-accordion-content]"),a=i.querySelector("[data-footer-accordion-icon]");if(!e||!t)return;const r=function(){t.classList.remove("max-h-96","opacity-100","pointer-events-auto"),t.classList.add("max-h-0","opacity-0","pointer-events-none"),t.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"),a&&a.classList.remove("rotate-45")},m=function(){t.classList.remove("max-h-0","opacity-0","pointer-events-none"),t.classList.add("max-h-96","opacity-100","pointer-events-auto"),t.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true"),a&&a.classList.add("rotate-45")},d=function(){n.matches?(t.classList.remove("max-h-0","max-h-96","opacity-0","opacity-100","pointer-events-none","pointer-events-auto"),t.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true"),a&&a.classList.remove("rotate-45")):r()};e.addEventListener("click",function(c){c.preventDefault(),e.getAttribute("aria-expanded")==="true"?r():m()}),d(),typeof n.addEventListener=="function"?n.addEventListener("change",d):typeof n.addListener=="function"&&n.addListener(d)})}const w=document.querySelectorAll("[data-webseo-lead-form]");w.length&&w.forEach(function(n){n.addEventListener("submit",function(i){if(!window.webseoLead||!window.webseoLead.ajaxUrl)return;i.preventDefault();const e=n.querySelector("[data-webseo-lead-message]"),t=n.querySelector("[data-webseo-lead-submit]"),a=t?t.getAttribute("data-webseo-loading-text"):"",r=window.webseoLead.messages||{},d=n.getAttribute("data-webseo-lead-success")||r.success||"✅ You’re in! Check your inbox.",c=r.error||"Something went wrong. Please try again.";e&&(e.textContent="",e.classList.add("hidden"),e.classList.remove("text-green-600","text-red-600")),t&&(t.disabled=!0,t.dataset.webseoOriginalText||(t.dataset.webseoOriginalText=t.textContent||""),a&&(t.textContent=a));const o=new FormData(n);o.append("action","add_webseo_lead"),window.webseoLead.nonce&&!o.has("webseo_lead_nonce")&&o.append("webseo_lead_nonce",window.webseoLead.nonce),window.webseoLead.pageTemplate&&!o.has("page_template")&&o.append("page_template",window.webseoLead.pageTemplate),o.has("page_url")||o.append("page_url",window.location.href),fetch(window.webseoLead.ajaxUrl,{method:"POST",credentials:"same-origin",body:o}).then(function(s){return s.json()}).then(function(s){const l=s&&s.success,p=s&&s.data&&s.data.message?s.data.message:l?d:c;e&&p&&(e.textContent=p,e.classList.remove("hidden"),l?(e.classList.remove("text-red-600"),e.classList.add("text-green-600")):(e.classList.remove("text-green-600"),e.classList.add("text-red-600"))),l&&n.reset()}).catch(function(){e&&(e.textContent=c,e.classList.remove("hidden","text-green-600"),e.classList.add("text-red-600"))}).finally(function(){if(t){t.disabled=!1;const s=t.dataset.webseoOriginalText||"";a&&(t.textContent=s)}})})})});
